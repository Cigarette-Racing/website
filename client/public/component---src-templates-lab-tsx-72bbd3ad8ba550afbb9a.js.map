{"version":3,"sources":["webpack:///./src/molecules/full-width-carousel.tsx","webpack:///./src/atoms/progress-dots.tsx","webpack:///./src/services/animations.ts","webpack:///./src/molecules/carousel.tsx","webpack:///./src/services/text-formatter.tsx","webpack:///./src/molecules/slider.tsx","webpack:///./src/types/common.ts","webpack:///./src/services/swiping.ts","webpack:///./src/templates/lab.tsx"],"names":["animations","initial","opacity","animate","zIndex","exit","transition","duration","FullWidthCarousel","items","blockPosition","useState","page","setPage","itemIndex","wrap","length","goToItem","oneBasedIndex","media","useEffect","cacheImages","map","item","image","className","clsx","data-component","ratio","div","key","drag","dragConstraints","left","right","dragElastic","onDragEnd","e","offset","velocity","determineSwipeAction","x","onSwipeLeft","onSwipeRight","videoUrl","alt","videoOptions","controls","src","style","background","current","total","variant","onClick","onClickNext","onClickPrev","ProgressDots","array","useMemo","Array","from","_","index","isCurrent","undefined","disabled","fadeAnimationProps","Carousel","theme","goNext","goPrev","data-block-type","img","header","content","copy","FormatTextBlob","text","split","filter","Boolean","p","Direction","variants","enter","center","secondaryVariants","scale","Slider","nextItemIndex","Next","Prev","type","stiffness","damping","isFlexibleSection","section","getFlexibleSections","sections","isOneColumnTextBlock","block","isOneColumnImageTextBlock","isTwoColumnImageTextBlock","isTwoColumnImagesBlock","isThreeColumnImagesBlock","isSliderBlock","isCarouselBlock","isFullWidthCarouselBlock","isHorizontalImageTextBlock","swipe","Math","abs","swipePower","LabTemplate","props","data","craftAPI","labEntry","entry","relatedLabs","entries","id","flexData","extractFlexibleSectionsFromCraft","isMobile","useMedia","title","slug","path","align","categories","articleCategories","md","urlLink","href","externalLinkIcon","url","i","bleedDirection","headerImage","blocks","side","size","subheadline","articleCopy","textBlock","singleMedia","videoURL","autoplayVideo","source","createCarouselItems","children","images","extractedBlock","layout","publicURL","width","slice","lab","entryType","hierarchy"],"mappings":"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","file":"component---src-templates-lab-tsx-72bbd3ad8ba550afbb9a.js","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { wrap } from '@popmotion/popcorn'\nimport { FullWidthCarouselBlock } from '../types/common'\nimport { AspectRatio } from '../atoms/aspect-ratio'\nimport { ProgressDots } from '../atoms/progress-dots'\nimport { determineSwipeAction } from '../services/swiping'\nimport { AutoplayVideo } from '../atoms/autoplay-video'\nimport clsx from 'clsx'\nimport { CarouselButtons } from '../templates/boat.components'\nimport { cacheImages } from '../services/images'\n\nconst animations = {\n  initial: {\n    opacity: 0,\n  },\n  animate: {\n    zIndex: 1,\n    opacity: 1,\n  },\n  exit: {\n    zIndex: 0,\n    opacity: 0.5,\n  },\n  transition: {\n    opacity: { duration: 0.6 },\n  },\n}\nexport interface FullWidthCarouselProps\n  extends Omit<FullWidthCarouselBlock, 'type'> {\n  blockPosition?: 'first' | 'middle' | 'last'\n}\n\nexport const FullWidthCarousel = ({\n  items,\n  blockPosition,\n}: FullWidthCarouselProps) => {\n  const [page, setPage] = useState(0)\n  const itemIndex = wrap(0, items.length, page)\n  const goToItem = (oneBasedIndex: number) => {\n    setPage(oneBasedIndex - 1)\n  }\n  const media = items[itemIndex].media\n\n  useEffect(() => {\n    cacheImages(items.map((item) => `${item?.media?.image}?q=30&w=1500`))\n  }, [])\n\n  return (\n    <div\n      className={clsx('relative mx-auto', {\n        'md:-mt-32 first': blockPosition === 'first',\n        'mb-32 lg:mb-48 middle': blockPosition === 'middle',\n        '-mb-12 last': blockPosition === 'last',\n      })}\n      data-component=\"FullWidthCarousel\"\n    >\n      <AspectRatio ratio=\"2:1\">\n        <AnimatePresence>\n          <motion.div\n            key={page}\n            {...animations}\n            drag=\"x\"\n            dragConstraints={{ left: 0, right: 0 }}\n            dragElastic={0}\n            onDragEnd={(e, { offset, velocity }) => {\n              determineSwipeAction({\n                offset: offset.x,\n                velocity: velocity.x,\n                onSwipeLeft: () => goToItem(page + 2),\n                onSwipeRight: () => goToItem(page),\n              })\n            }}\n            className=\"absolute h-full w-full object-cover\"\n          >\n            {!!media?.videoUrl ? (\n              <AutoplayVideo\n                alt={media.alt}\n                image={media.image}\n                videoUrl={media.videoUrl}\n                videoOptions={{ controls: false }}\n              />\n            ) : (\n              <img\n                src={`${media?.image}?q=30&w=2000`}\n                className=\"pointer-events-none h-full w-full object-cover\"\n              />\n            )}\n          </motion.div>\n        </AnimatePresence>\n      </AspectRatio>\n      {items.length > 1 && (\n        <Fragment>\n          <div\n            className=\"absolute inset-0 z-10 pointer-events-none\"\n            style={{\n              background:\n                'linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 47.5%)',\n            }}\n          />\n          <div className=\"absolute pb-4 bottom-0 left-1/2 transform -translate-x-1/2 z-10\">\n            <ProgressDots\n              current={itemIndex + 1}\n              total={items.length}\n              variant=\"horizontal\"\n              onClick={goToItem}\n            />\n          </div>\n          <CarouselButtons\n            className=\"hidden absolute bottom-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 md:flex justify-between w-full px-4\"\n            onClickNext={() => {\n              goToItem(page + 2)\n            }}\n            onClickPrev={() => {\n              goToItem(page)\n            }}\n          />\n        </Fragment>\n      )}\n    </div>\n  )\n}\n","import React, { useMemo } from 'react'\nimport clsx from 'clsx'\n\nexport interface ProgressDotsProps {\n  /** Progress indicator to mark as active (one-based) */\n  current: number\n  /** Total number of progress indicators to show */\n  total: number\n  /** Direction in which to display the dots */\n  variant: 'horizontal' | 'vertical'\n  /** Callback fired when a dot is clicked. Value is the one-based index of the dot. */\n  onClick?(index: number): void\n}\n\nexport const ProgressDots = ({\n  current,\n  total,\n  variant,\n  onClick,\n}: ProgressDotsProps) => {\n  const array = useMemo(() => Array.from({ length: total }), [total])\n  return (\n    <div\n      className={clsx('flex', {\n        'flex-row space-x-2': variant === 'horizontal',\n        'flex-col space-y-2': variant === 'vertical',\n      })}\n    >\n      {array.map((_, index) => {\n        const oneBasedIndex = index + 1\n        const isCurrent = oneBasedIndex === current\n        return (\n          <button\n            key={index}\n            className={clsx(\n              'w-6 h-6 border rounded-full border-transparent flex justify-center items-center cursor-default',\n              {\n                'border-red': isCurrent,\n                'cursor-pointer pointer-events-auto': !!onClick,\n              }\n            )}\n            onClick={!!onClick ? () => onClick(oneBasedIndex) : undefined}\n            disabled={!onClick}\n          >\n            <div className=\"w-1 h-1 bg-white rounded-full\">\n              <span className=\"sr-only\">\n                {oneBasedIndex} of {total}\n              </span>\n            </div>\n          </button>\n        )\n      })}\n    </div>\n  )\n}\n","export const fadeAnimationProps = {\n  initial: {\n    opacity: 0,\n  },\n  animate: {\n    zIndex: 1,\n    opacity: 1,\n  },\n  exit: {\n    zIndex: 0,\n    opacity: 0,\n  },\n  transition: {\n    opacity: { duration: 0.4 },\n  },\n}\n","// Adapted from https://codesandbox.io/s/framer-motion-image-gallery-pqvx3\nimport React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { wrap } from '@popmotion/popcorn'\nimport { CarouselBlock } from '../types/common'\nimport { AspectRatio } from '../atoms/aspect-ratio'\nimport {\n  CarouselButtons,\n  TextBlockComponent,\n} from '../templates/boat.components'\nimport { determineSwipeAction } from '../services/swiping'\nimport { fadeAnimationProps } from '../services/animations'\nimport { Theme } from '../types/shared'\nimport { cacheImages } from '../services/images'\n\nexport interface CarouselProps extends Omit<CarouselBlock, 'type'> {\n  theme?: Theme\n}\n\nexport const Carousel = ({ items, theme }: CarouselProps) => {\n  if (!items?.length) {\n    return null\n  }\n\n  const [page, setPage] = useState(0)\n  const itemIndex = wrap(0, items?.length, page)\n  const goNext = () => {\n    setPage(page + 1)\n  }\n  const goPrev = () => {\n    setPage(page - 1)\n  }\n\n  useEffect(() => {\n    cacheImages(\n      items?.map((item) => `${item?.media?.image}?q=30&w=1500&fm=jpg`)\n    )\n  }, [])\n\n  return (\n    <div className=\"max-w-7xl mx-auto\" data-block-type=\"Carousel\">\n      <AspectRatio ratio=\"3:2\" className=\"overflow-hidden\">\n        <AnimatePresence initial={false}>\n          <motion.img\n            key={page}\n            src={`${items?.[itemIndex]?.media?.image}?q=30&w=2000&fm=jpg`}\n            {...fadeAnimationProps}\n            drag=\"x\"\n            dragConstraints={{ left: 0, right: 0 }}\n            dragElastic={0}\n            onDragEnd={(e, { offset, velocity }) => {\n              determineSwipeAction({\n                offset: offset.x,\n                velocity: velocity.x,\n                onSwipeLeft: goNext,\n                onSwipeRight: goPrev,\n              })\n            }}\n            className=\"absolute h-full w-full object-cover\"\n          />\n        </AnimatePresence>\n        <CarouselButtons\n          className=\"absolute bottom-0 pb-4 w-full md:hidden z-10\"\n          onClickNext={goNext}\n          onClickPrev={goPrev}\n          theme={theme}\n        />\n      </AspectRatio>\n      <div className=\"md:flex justify-between my-8 mb-20 md:mb-24 px-4 xl:px-0 \">\n        <AnimatePresence initial={false}>\n          <motion.div {...fadeAnimationProps}>\n            <TextBlockComponent\n              key={page}\n              className=\"md:w-7/12\"\n              header={items?.[itemIndex].content.header}\n              copy={items?.[itemIndex].content.copy}\n            />\n          </motion.div>\n        </AnimatePresence>\n        <CarouselButtons\n          className=\"hidden md:flex items-start\"\n          onClickNext={goNext}\n          onClickPrev={goPrev}\n          theme={theme}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Typography } from '../atoms/typography'\n\nconst FormatTextBlob = (text: string) => {\n  return text\n    ?.split('\\n')\n    ?.filter(Boolean)\n    .map((p) => {\n      return (\n        <Typography className=\"mb-4 last:mb-0\" key={p} variant=\"p2\">\n          {p}\n        </Typography>\n      )\n    })\n}\n\nexport default FormatTextBlob\n","// Adapted from https://codesandbox.io/s/framer-motion-image-gallery-pqvx3\nimport React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { wrap } from '@popmotion/popcorn'\nimport { SliderBlock } from '../types/common'\nimport { AspectRatio } from '../atoms/aspect-ratio'\nimport {\n  CarouselButtons,\n  TextBlockComponent,\n} from '../templates/boat.components'\nimport { determineSwipeAction } from '../services/swiping'\nimport { fadeAnimationProps } from '../services/animations'\nimport { Theme } from '../types/shared'\nimport { cacheImages } from '../services/images'\n\nenum Direction {\n  Next = 1,\n  Prev = -1,\n}\n\nconst variants = {\n  enter: {\n    opacity: 0,\n  },\n  center: {\n    zIndex: 1,\n    opacity: 1,\n  },\n  exit: {\n    zIndex: 0,\n    opacity: 0,\n  },\n}\n\nconst secondaryVariants = {\n  enter: {\n    opacity: 0,\n    scale: 0.8,\n  },\n  center: {\n    opacity: 0.35,\n    scale: 0.85,\n  },\n  exit: {\n    opacity: 0,\n    scale: 0.8,\n    transition: {\n      duration: 0.1,\n    },\n  },\n}\n\nexport interface SliderProps extends Omit<SliderBlock, 'type'> {\n  theme?: Theme\n}\n\nexport const Slider = ({ items, theme }: SliderProps) => {\n  if (!items?.length) {\n    return null\n  }\n\n  const [[page], setPage] = useState([0, 0])\n  const itemIndex = wrap(0, items?.length, page)\n  const nextItemIndex = wrap(0, items?.length, page + 1)\n  const goNext = () => {\n    setPage([page + 1, Direction.Next])\n  }\n  const goPrev = () => {\n    setPage([page - 1, Direction.Prev])\n  }\n\n  useEffect(() => {\n    cacheImages(\n      items?.map((item) => `${item?.media?.image}?q=30&w=2000&fm=jpg`)\n    )\n  }, [])\n\n  return (\n    <div className=\"max-w-7xl mx-auto\" data-block-type=\"Slider\">\n      <div className=\"md:w-9/12\">\n        <AspectRatio ratio=\"3:2\">\n          <AnimatePresence initial={false}>\n            <motion.img\n              key={page}\n              src={`${items?.[itemIndex]?.media?.image}?q=30&w=2000&fm=jpg`}\n              variants={variants}\n              initial=\"enter\"\n              animate=\"center\"\n              exit=\"exit\"\n              transition={{\n                x: { type: 'spring', stiffness: 300, damping: 200 },\n                opacity: { duration: 0.4 },\n              }}\n              drag=\"x\"\n              dragConstraints={{ left: 0, right: 0 }}\n              dragElastic={1}\n              onDragEnd={(e, { offset, velocity }) => {\n                determineSwipeAction({\n                  offset: offset.x,\n                  velocity: velocity.x,\n                  onSwipeLeft: goNext,\n                  onSwipeRight: goPrev,\n                })\n              }}\n              className=\"absolute h-full w-full object-cover\"\n            />\n            <motion.div\n              key={`secondary${page}`}\n              variants={secondaryVariants}\n              initial=\"enter\"\n              animate=\"center\"\n              exit=\"exit\"\n              transition={{\n                x: { type: 'spring', stiffness: 300, damping: 200 },\n                opacity: { duration: 0.4 },\n              }}\n              className=\"absolute h-full w-full object-cover cursor-pointer\"\n              style={{ left: 'calc(100% + 0px)' }}\n              onClick={goNext}\n            >\n              <img src={items?.[nextItemIndex]?.media?.image} />\n              <div\n                className=\"absolute inset-0\"\n                style={{\n                  background:\n                    theme === 'dark'\n                      ? 'linear-gradient(to right, transparent, black 45%)'\n                      : 'linear-gradient(to right, transparent, white 45%)',\n                }}\n              />\n            </motion.div>\n          </AnimatePresence>\n          <CarouselButtons\n            className=\"absolute bottom-0 pb-4 w-full z-10 md:hidden\"\n            onClickNext={goNext}\n            onClickPrev={goPrev}\n            theme={theme}\n          />\n        </AspectRatio>\n        <div className=\"md:flex justify-between items-start md:mt-10 md:mb-40\">\n          <AnimatePresence initial={false}>\n            <motion.div {...fadeAnimationProps}>\n              <TextBlockComponent\n                key={page}\n                className=\"my-8 md:my-0 px-4 mb-20 md:w-10/12\"\n                header={items?.[itemIndex]?.content?.header}\n                copy={items?.[itemIndex]?.content?.copy}\n              />\n            </motion.div>\n          </AnimatePresence>\n          <CarouselButtons\n            className=\"hidden md:flex\"\n            onClickNext={goNext}\n            onClickPrev={goPrev}\n            theme={theme}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { Theme } from './shared'\nimport { Ratio } from '../atoms/aspect-ratio'\n\n// ===================================\n// BASE TYPES\n// ===================================\nexport type TextBlock = {\n  header: string\n  copy: string\n}\n\ntype Treatment = 'desaturate' | 'grayscale'\n\nexport type Media = {\n  image: string\n  label?: string\n  alt?: string\n  videoUrl?: string\n  autoplayVideo?: boolean\n  // Don't worry about for n\n  embedUrl?: string\n  ratio?: Ratio\n  treatments?: Treatment[]\n}\n\nexport type ImageWithText = {\n  media: Media\n  content: TextBlock\n}\n\n// ===================================\n// SECTIONS\n// ===================================\nexport type CommonSectionProps = {\n  title: string\n  shortTitle?: string\n}\n\ntype FlexibleSection = {\n  id?: number\n  type: 'flexible'\n  theme: Theme\n  bleedDirection: 'left' | 'right'\n  headerImage: Media\n  blocks: Block[]\n} & CommonSectionProps\n\nfunction isFlexibleSection(section: any): section is FlexibleSection {\n  return section.type === 'flexible'\n}\n\nexport function getFlexibleSections(sections: readonly any[]) {\n  return sections.filter(isFlexibleSection) as FlexibleSection[]\n}\n\n// ===================================\n// BLOCKS\n// ===================================\nexport type OneColumnTextBlock = {\n  type: 'one-column-text'\n  align?: 'left' | 'center' | 'right'\n} & TextBlock\n\nexport function isOneColumnTextBlock(\n  block: Block\n): block is OneColumnTextBlock {\n  return block.type === 'one-column-text'\n}\n\nexport type FullBleedImageBlock = {\n  type: 'full-bleed-image'\n} & Media\n\nexport function isFullBleedImageBlock(\n  block: Block\n): block is FullBleedImageBlock {\n  return block.type === 'full-bleed-image'\n}\n\nexport type OneColumnImageTextBlock = {\n  type: 'one-column-image-text'\n  align: string\n} & ImageWithText\n\nexport function isOneColumnImageTextBlock(\n  block: Block\n): block is OneColumnImageTextBlock {\n  return block.type === 'one-column-image-text'\n}\n\nexport type TwoColumnImageTextBlock = {\n  type: 'two-column-image-text'\n  leftColumn: ImageWithText\n  rightColumn: ImageWithText\n}\n\nexport function isTwoColumnImageTextBlock(\n  block: Block\n): block is TwoColumnImageTextBlock {\n  return block.type === 'two-column-image-text'\n}\n\nexport type TwoColumnImagesBlock = {\n  type: 'two-column-images'\n  images: [Media, Media]\n}\n\nexport function isTwoColumnImagesBlock(\n  block: Block\n): block is TwoColumnImagesBlock {\n  return block.type === 'two-column-images'\n}\n\nexport type ThreeColumnImagesBlock = {\n  type: 'three-column-images'\n  images: [Media, Media, Media]\n}\n\nexport function isThreeColumnImagesBlock(\n  block: Block\n): block is ThreeColumnImagesBlock {\n  return block.type === 'three-column-images'\n}\n\nexport type SliderBlock = {\n  type: 'slider'\n  items: ImageWithText[]\n}\n\nexport function isSliderBlock(block: Block): block is SliderBlock {\n  return block.type === 'slider'\n}\n\nexport type CarouselBlock = {\n  type: 'carousel'\n  items: ImageWithText[]\n}\n\nexport function isCarouselBlock(block: Block): block is CarouselBlock {\n  return block.type === 'carousel'\n}\n\nexport type FullWidthCarouselBlock = {\n  type: 'full-width-carousel'\n  items: ImageWithText[]\n}\n\nexport function isFullWidthCarouselBlock(\n  block: Block\n): block is FullWidthCarouselBlock {\n  return block.type === 'full-width-carousel'\n}\n\nexport type HorizontalImageTextBlock = {\n  type: 'horizontal-image-text'\n  media: Media\n  content: TextBlock\n  layout: 'imageOnLeft' | 'imageOnRight'\n}\n\nexport function isHorizontalImageTextBlock(\n  block: Block\n): block is HorizontalImageTextBlock {\n  return block.type === 'horizontal-image-text'\n}\n\ntype Block =\n  | OneColumnTextBlock\n  | FullBleedImageBlock\n  | OneColumnImageTextBlock\n  | TwoColumnImageTextBlock\n  | TwoColumnImagesBlock\n  | ThreeColumnImagesBlock\n  | SliderBlock\n  | CarouselBlock\n  | FullWidthCarouselBlock\n  | HorizontalImageTextBlock\n","/**\n * Experimenting with distilling swipe offset and velocity into a single variable, so the\n * less distance a user has swiped, the more velocity they need to register as a swipe.\n * Should accomodate longer swipes and short flicks without having binary checks on\n * just distance thresholds and velocity > 0.\n */\nconst swipeConfidenceThreshold = 10000\nconst swipePower = (offset: number, velocity: number) => {\n  return Math.abs(offset) * velocity\n}\n\n/**\n * Check the offset and velocity of a swipe action and fire the appropriate\n * callback based on a swipe confidence threshold.\n */\nexport const determineSwipeAction = ({\n  offset,\n  velocity,\n  onSwipeLeft,\n  onSwipeRight,\n}: {\n  offset: number\n  velocity: number\n  onSwipeLeft: () => void\n  onSwipeRight: () => void\n}) => {\n  const swipe = swipePower(offset, velocity)\n  if (swipe < -swipeConfidenceThreshold) {\n    onSwipeLeft()\n  } else if (swipe > swipeConfidenceThreshold) {\n    onSwipeRight()\n  }\n}\n","import React from 'react'\nimport { useMedia } from 'react-use'\nimport { PageProps, graphql } from 'gatsby'\nimport { Layout } from '../components/layout'\nimport SEO from '../components/seo'\nimport { Typography } from '../atoms/typography'\nimport FormatTextBlob from '../services/text-formatter'\nimport { ExternalLinkIcon } from '../svgs/icons'\nimport { ContentEntry } from '../templates/common.components'\nimport {\n  Categories,\n  createCarouselItems,\n  extractFlexibleSectionsFromCraft,\n  GenericSection,\n  HorizontalImageTextBlockComponent,\n  OneColumnImageTextBlockComponent,\n  OneColumnTextBlockComponent,\n  SideBleedImage,\n  ThreeUpImageBlock,\n  TwoColumnImageTextBlockComponent,\n  TwoUpImageBlock,\n} from './common.components'\nimport {\n  getFlexibleSections,\n  HorizontalImageTextBlock,\n  isCarouselBlock,\n  isFullWidthCarouselBlock,\n  isHorizontalImageTextBlock,\n  isOneColumnImageTextBlock,\n  isOneColumnTextBlock,\n  isSliderBlock,\n  isThreeColumnImagesBlock,\n  isTwoColumnImagesBlock,\n  isTwoColumnImageTextBlock,\n} from '../types/common'\nimport { Carousel } from '../molecules/carousel'\nimport { FullWidthCarousel } from '../molecules/full-width-carousel'\nimport { Slider } from '../molecules/slider'\n\nconst LabTemplate = (props: PageProps<GatsbyTypes.LabPageQuery>) => {\n  const {\n    data: {\n      craftAPI: { entry: labEntry, entries: allLabs },\n    },\n  } = props\n\n  const relatedLabs = allLabs.filter((entry) => {\n    return entry.id != labEntry.id\n  })\n\n  const flexData = getFlexibleSections(\n    extractFlexibleSectionsFromCraft(labEntry)\n  )\n\n  const isMobile = useMedia('(max-width: 767px)')\n\n  return (\n    <Layout>\n      <GenericSection className=\"py-12 pb-8 pt-32 md:pt-56\" theme=\"dark\">\n        <div className=\"px-4 max-w-screen-xl xl:max-w-screen-2xl m-auto\">\n          <SEO title={labEntry.title} slug={props.path} />\n          <div className=\"md:flex align-top justify-start content-start pb-10 md:pb-20\">\n            <Categories\n              className=\"-ml-2 mb-3 md:mr-16 mt-4\"\n              align=\"left\"\n              categories={labEntry.articleCategories}\n            />\n            <div>\n              <Typography className=\"mb-8 max-w-screen-lg\" variant=\"h3\" md=\"h1\">\n                {labEntry.title}\n              </Typography>\n              {!!labEntry?.urlLink && (\n                <a\n                  href={labEntry?.urlLink}\n                  className=\"flex align-middle items-center\"\n                >\n                  <img\n                    className=\"w-10 h-10 mr-4\"\n                    src={labEntry.externalLinkIcon[0].url}\n                    alt=\"\"\n                  />\n                  <Typography variant=\"p2\" className=\"text-gray-3\">\n                    {labEntry?.urlLink}\n                  </Typography>\n                  <ExternalLinkIcon className=\"mr-2 ml-4\" />\n                </a>\n              )}\n            </div>\n          </div>\n          <div className=\"border-t border-solid border-gray-2\"></div>\n        </div>\n      </GenericSection>\n      {flexData.map(\n        ({ title, theme, bleedDirection, headerImage, blocks, id }, i) => (\n          <GenericSection key={id} theme=\"dark\">\n            <SideBleedImage\n              media={headerImage}\n              side={bleedDirection}\n              className=\"mt-0 md:m-0 mb-20 md:mb-32 pt-0\"\n              size=\"large\"\n            />\n            <div className=\"w-full md:w-11/12 lg:w-10/12 xl:w-9/12 ml-auto\">\n              <div className=\"px-4 md:px-0 md:w-8/12\">\n                <Typography variant=\"e2\" className=\"mb-4\">\n                  {labEntry.subheadline}\n                </Typography>\n              </div>\n              <div className=\"px-4 md:px-0 md:w-8/12 mb-16\">\n                {FormatTextBlob(labEntry.articleCopy)}\n              </div>\n            </div>\n            {!!blocks &&\n              blocks.map((block, index) => {\n                if (isTwoColumnImageTextBlock(block)) {\n                  return (\n                    <TwoColumnImageTextBlockComponent key={index} {...block} />\n                  )\n                }\n                if (isOneColumnTextBlock(block)) {\n                  if (block.textBlock) {\n                    block.copy = block.textBlock[0].copy\n                    block.header = block.textBlock[0].header\n                  }\n\n                  return (\n                    <OneColumnTextBlockComponent\n                      key={index}\n                      {...block}\n                      align={block.align ?? undefined}\n                    />\n                  )\n                }\n                if (isOneColumnImageTextBlock(block)) {\n                  if (block.textBlock) {\n                    block.content = {\n                      copy: block.textBlock[0].copy,\n                      header: block.textBlock[0].header,\n                    }\n                    block.media = {\n                      image: block.singleMedia?.[0].image?.[0]?.url,\n                      videoURL: block.singleMedia?.[0].videoURL,\n                      autoplayVideo: block.singleMedia?.[0].autoplayVideo,\n                    }\n                  }\n\n                  return (\n                    <OneColumnImageTextBlockComponent key={index} {...block} />\n                  )\n                }\n                if (isCarouselBlock(block)) {\n                  if (block?.source === 'craft') {\n                    const items = createCarouselItems(block.children)\n                    block.items = items\n                  }\n\n                  return <Carousel key={index} {...block} theme={theme} />\n                }\n                if (isSliderBlock(block)) {\n                  if (block?.source === 'craft') {\n                    const items = createCarouselItems(block.children)\n                    block.items = items\n                  }\n\n                  return <Slider key={index} {...block} theme={theme} />\n                }\n                if (isThreeColumnImagesBlock(block)) {\n                  return (\n                    <ThreeUpImageBlock\n                      key={index}\n                      className=\"mb-32\"\n                      images={block.children}\n                    />\n                  )\n                }\n                if (isTwoColumnImagesBlock(block)) {\n                  return (\n                    <TwoUpImageBlock\n                      key={index}\n                      className=\"mb-32\"\n                      images={block.images || block.children}\n                    />\n                  )\n                }\n                if (isHorizontalImageTextBlock(block)) {\n                  const extractedBlock: HorizontalImageTextBlock = {\n                    type: 'horizontal-image-text',\n                    layout: block.layout,\n                    content: {\n                      header: block.textBlock[0].header as string,\n                      copy: block.textBlock[0].copy as string,\n                    },\n                    media: {\n                      image: {\n                        publicURL: block.singleMedia[0].image[0]?.url as string,\n                      },\n                    },\n                  }\n                  return (\n                    <HorizontalImageTextBlockComponent\n                      key={index}\n                      {...extractedBlock}\n                    />\n                  )\n                }\n                if (isFullWidthCarouselBlock(block)) {\n                  if (block?.source === 'craft') {\n                    const items = createCarouselItems(block.children)\n                    block.items = items\n                  }\n\n                  return <FullWidthCarousel key={index} {...block} />\n                }\n                return null\n              })}\n            {!!relatedLabs.length && (\n              <div>\n                <Typography className=\"px-4 mt-20 mb-5\" variant=\"h3\" md=\"h2\">\n                  More Stories\n                </Typography>\n                <div className=\"overflow-scroll\">\n                  <div\n                    className=\"relatedArticles grid grid-cols-3 gap-6 px-4\"\n                    style={{ width: `${isMobile ? '270vw' : 'auto'} ` }}\n                  >\n                    {relatedLabs.slice(0, 3).map((lab) => {\n                      return (\n                        <ContentEntry\n                          entryType=\"labs\"\n                          key={lab.id}\n                          entry={lab}\n                          hierarchy=\"tertiary\"\n                        />\n                      )\n                    })}\n                  </div>\n                </div>\n              </div>\n            )}\n          </GenericSection>\n        )\n      )}\n    </Layout>\n  )\n}\n\nexport default LabTemplate\n\nexport const query = graphql`\n  query LabPage($craftSlug: String) {\n    craftAPI {\n      categories(group: \"articleCategories\") {\n        id\n        title\n      }\n      entry(slug: [$craftSlug]) {\n        ... on CraftAPI_labs_lab_Entry {\n          id\n          title\n          urlLink\n          externalLinkIcon {\n            url\n          }\n          subheadline\n          articleCopy\n          image {\n            url\n          }\n          articleExcerpt\n          articleCategories {\n            title\n          }\n          flexibleSections {\n            ... on CraftAPI_flexibleSections_flexibleSection_BlockType {\n              theme\n              title: textBlockHeader\n              shortTitle\n              bleedDirection: imageBleedDirection\n              headerImage: image {\n                url\n              }\n              blocks: children {\n                typeHandle\n                ... on CraftAPI_flexibleSections_moreDetails_BlockType {\n                  textBlockHeader\n                  children {\n                    ... on CraftAPI_flexibleSections_horizontalImageText_BlockType {\n                      id\n                      horizontalLayout\n                      textBlock {\n                        ... on CraftAPI_textBlock_BlockType {\n                          header\n                          copy\n                        }\n                      }\n                      singleMedia {\n                        ... on CraftAPI_singleMedia_BlockType {\n                          id\n                          videoURL\n                          image {\n                            ... on CraftAPI_s3_Asset {\n                              id\n                              url(width: 2400)\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_oneColumnTextBlock_BlockType {\n                  align: textAlign\n                  textBlock {\n                    ... on CraftAPI_textBlock_BlockType {\n                      header\n                      copy\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_oneColumnImageTextBlock_BlockType {\n                  singleMedia {\n                    ... on CraftAPI_singleMedia_BlockType {\n                      alt\n                      label\n                      autoplayVideo\n                      videoURL\n                      image {\n                        ... on CraftAPI_s3_Asset {\n                          url(width: 2400)\n                        }\n                      }\n                    }\n                  }\n                  textBlock {\n                    ... on CraftAPI_textBlock_BlockType {\n                      header\n                      copy\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_twoColumnImagesBlock_BlockType {\n                  children {\n                    ... on CraftAPI_flexibleSections_image_BlockType {\n                      singleMedia {\n                        ... on CraftAPI_singleMedia_BlockType {\n                          alt\n                          label\n                          autoplayVideo\n                          videoURL\n                          image {\n                            ... on CraftAPI_s3_Asset {\n                              url(width: 1400)\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_twoColumnImageTextBlock_BlockType {\n                  children {\n                    ... on CraftAPI_flexibleSections_oneColumnImageTextBlock_BlockType {\n                      singleMedia {\n                        ... on CraftAPI_singleMedia_BlockType {\n                          alt\n                          label\n                          autoplayVideo\n                          videoURL\n                          image {\n                            ... on CraftAPI_s3_Asset {\n                              url(width: 1400)\n                            }\n                          }\n                        }\n                      }\n                      textBlock {\n                        ... on CraftAPI_textBlock_BlockType {\n                          header\n                          copy\n                        }\n                      }\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_threeColumnImagesBlock_BlockType {\n                  children {\n                    typeHandle\n                    ... on CraftAPI_flexibleSections_image_BlockType {\n                      singleMedia {\n                        ... on CraftAPI_singleMedia_BlockType {\n                          autoplayVideo\n                          videoURL\n                          label\n                          image {\n                            ... on CraftAPI_s3_Asset {\n                              url(width: 1000)\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_carousel_BlockType {\n                  fullWidth\n                  children {\n                    ... on CraftAPI_flexibleSections_oneColumnImageTextBlock_BlockType {\n                      textBlock {\n                        ... on CraftAPI_textBlock_BlockType {\n                          header\n                          copy\n                        }\n                      }\n                      singleMedia {\n                        ... on CraftAPI_singleMedia_BlockType {\n                          autoplayVideo\n                          videoURL\n                          image {\n                            ... on CraftAPI_s3_Asset {\n                              url\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_sliderBlock_BlockType {\n                  children {\n                    ... on CraftAPI_flexibleSections_oneColumnImageTextBlock_BlockType {\n                      textBlock {\n                        ... on CraftAPI_textBlock_BlockType {\n                          header\n                          copy\n                        }\n                      }\n                      singleMedia {\n                        ... on CraftAPI_singleMedia_BlockType {\n                          autoplayVideo\n                          videoURL\n                          image {\n                            ... on CraftAPI_s3_Asset {\n                              url\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ... on CraftAPI_flexibleSections_horizontalImageText_BlockType {\n                  textBlock {\n                    ... on CraftAPI_textBlock_BlockType {\n                      header\n                      copy\n                    }\n                  }\n                  singleMedia {\n                    ... on CraftAPI_singleMedia_BlockType {\n                      autoplayVideo\n                      videoURL\n                      image {\n                        ... on CraftAPI_s3_Asset {\n                          url\n                        }\n                      }\n                    }\n                  }\n                  layout: horizontalLayout\n                }\n              }\n            }\n          }\n        }\n      }\n      entries(type: \"lab\") {\n        ... on CraftAPI_labs_lab_Entry {\n          slug\n          id\n          urlLink\n          articleExcerpt\n          title\n          externalLinkIcon {\n            url\n          }\n          image {\n            url\n          }\n          articleCategories {\n            id\n            title\n          }\n          articleTags {\n            id\n            title\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}